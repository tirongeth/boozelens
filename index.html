<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <title>BoozeLens | Picture Perfect Party</title>
    
    <!-- PWA Meta Tags -->
    <meta name="theme-color" content="#00ff88">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="BoozeLens">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="application-name" content="BoozeLens">
    <meta name="msapplication-TileColor" content="#00ff88">
    
    <!-- PWA Manifest -->
    <link rel="manifest" href="./manifest.json">
    
    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="./logo/pwa-icons/icon-152x152.png">
    <link rel="icon" type="image/png" sizes="32x32" href="./logo/pwa-icons/icon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="./logo/pwa-icons/icon-16x16.png">
    <link rel="shortcut icon" href="./logo/pwa-icons/icon-32x32.png">
    
    <!-- Font Awesome for icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Core CSS -->
    <link rel="stylesheet" href="./src/css/core/reset.css">
    <link rel="stylesheet" href="./src/css/core/variables.css">
    <link rel="stylesheet" href="./src/css/core/base.css">
    <link rel="stylesheet" href="./src/css/core/typography.css">

    <!-- Effects CSS -->
    <link rel="stylesheet" href="./src/css/effects/animations.css">
    <link rel="stylesheet" href="./src/css/effects/background.css">
    <link rel="stylesheet" href="./src/css/effects/particles.css">
    <link rel="stylesheet" href="./src/css/effects/transitions.css">

    <!-- Layouts CSS -->
    <link rel="stylesheet" href="./src/css/layouts/container.css">
    <link rel="stylesheet" href="./src/css/layouts/grid.css">
    <link rel="stylesheet" href="./src/css/layouts/sections.css">

    <!-- Components CSS -->
    <link rel="stylesheet" href="./src/css/components/buttons.css">
    <link rel="stylesheet" href="./src/css/components/cards.css">
    <link rel="stylesheet" href="./src/css/components/forms.css">
    <link rel="stylesheet" href="./src/css/components/modals.css">
    <link rel="stylesheet" href="./src/css/components/notifications.css">
    <link rel="stylesheet" href="./src/css/components/loaders.css">
    <link rel="stylesheet" href="./src/css/components/logo.css">
    <link rel="stylesheet" href="./src/css/components/chat.css">
    <link rel="stylesheet" href="./src/css/components/badges.css">

    <!-- Features CSS -->
    <link rel="stylesheet" href="./src/css/features/dashboard.css">
    <link rel="stylesheet" href="./src/css/features/auth.css">
    <link rel="stylesheet" href="./src/css/features/leaderboard.css">
    <link rel="stylesheet" href="./src/css/features/navigation.css">
    <link rel="stylesheet" href="./src/css/features/profile.css">
    <link rel="stylesheet" href="./src/css/features/tracking.css">

    <!-- Utilities CSS -->
    <link rel="stylesheet" href="./src/css/utilities/spacing.css">
    <link rel="stylesheet" href="./src/css/utilities/colors.css">
    <link rel="stylesheet" href="./src/css/utilities/responsive.css">
    <link rel="stylesheet" href="./src/css/utilities/visibility.css">

    
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    
    <!-- Canvas Confetti -->
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    



  <script type="module" crossorigin src="./src/js/main.js"></script>
  <link rel="stylesheet" href="./src/css/mobile.css">
  
  <!-- Party events will be handled by the main module system -->
</head>
<body>
    <!-- Mobile App Loading Screen -->
    <div class="mobile-loading-screen" id="mobileLoadingScreen">
        <img src="./logo/boozelens_app_cover (2).svg" alt="BoozeLens" class="loading-logo">
        <div class="loading-spinner-container">
            <div class="loading-spinner"></div>
        </div>
    </div>
    
    <div class="background"></div>
    <div class="particles" id="particles"></div>
    
    <!-- Auth Container (Login/Signup) -->
    <div class="auth-container" id="authContainer">
        <div class="auth-box">
            <h2 id="authTitle">Welcome to BoozeLens</h2>
            
            <div class="auth-error" id="authError"></div>
            
            <div class="auth-loading" id="authLoading">
                <div class="loading-spinner"></div>
                <p>Please wait...</p>
            </div>
            
            <form id="authForm" autocomplete="on">
                <div class="form-group">
                    <label for="authEmail">Email</label>
                    <input type="email" id="authEmail" required autocomplete="email" placeholder="your.email@hsg.ch">
                </div>
                <div class="form-group">
                    <label for="authPassword">Password</label>
                    <input type="password" id="authPassword" required autocomplete="current-password" placeholder="••••••••">
                </div>
                <div class="form-group" id="usernameGroup" style="display: none;">
                    <label for="authUsername">Username</label>
                    <input type="text" id="authUsername" autocomplete="username" placeholder="Choose a unique username">
                </div>
                
                <button type="submit" class="btn btn-primary" style="width: 100%;" id="authSubmitBtn">
                    <span id="authButton">Login</span>
                </button>
            </form>
            <div class="auth-toggle">
                <span id="authToggleText">Don't have an account?</span>
                <a onclick="toggleAuthMode()" id="authToggleLink">Sign up</a>
            </div>
        </div>
    </div>
    
    <!-- Alert Banner -->
    <div class="alert-banner" id="alertBanner">
        <span id="alertText"></span>
    </div>
    
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <div class="logo" onclick="switchSection('dashboard')">
                <img src="./logo/web_icon.png" alt="BoozeLens">
                BoozeLens
            </div>
            <ul class="nav-menu" id="navMenu">
                <li><button class="nav-item active" onclick="switchSection('dashboard')" type="button" title="Dashboard">
                    <i class="fas fa-home"></i><span>Dashboard</span>
                </button></li>
                <li><button class="nav-item" onclick="switchSection('friends')" type="button" title="Friends">
                    <i class="fas fa-users"></i><span>Friends</span>
                </button></li>
                <li><button class="nav-item" onclick="switchSection('photos')" type="button" title="Photos">
                    <i class="fas fa-camera-retro"></i><span>Photos</span>
                </button></li>
                <li><button class="nav-item" onclick="switchSection('parties')" type="button" title="Parties">
                    <i class="fas fa-champagne-glasses"></i><span>Parties</span>
                </button></li>
                <li><button class="nav-item" onclick="switchSection('games')" type="button" title="Games">
                    <i class="fas fa-gamepad"></i><span>Games</span>
                </button></li>
                <li><button class="nav-item" onclick="switchSection('achievements')" type="button" title="Achievements">
                    <i class="fas fa-trophy"></i><span>Achievements</span>
                </button></li>
                <li><button class="nav-item" onclick="switchSection('drinks')" type="button" title="Drinks">
                    <i class="fas fa-beer"></i><span>Drinks</span>
                </button></li>
                <li><button class="nav-item" onclick="switchSection('emergency')" type="button" title="Emergency">
                    <i class="fas fa-ambulance"></i><span>Emergency</span>
                </button></li>
                <li><button class="nav-item" onclick="switchSection('settings')" type="button" title="Settings">
                    <i class="fas fa-cog"></i><span>Settings</span>
                </button></li>
            </ul>
            <button class="mobile-menu-toggle" onclick="toggleMobileMenu()" type="button">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>
    
    <!-- Mobile Floating More Button -->
    <button class="mobile-more-button" id="mobileMoreButton" onclick="toggleMobileMore()" type="button">
        <i class="fas fa-bars"></i>
    </button>
    
    <!-- User Profile Widget -->
    <div class="user-profile" id="userProfile" style="display: none;">
        <h4 id="profileName">Loading...</h4>
        <p id="profileEmail">...</p>
        <p>Devices: <span id="deviceCount">0</span></p>
        <p>Friends: <span id="friendCount">0</span></p>
        <button class="btn" onclick="signOut()">
            <i class="fas fa-sign-out-alt"></i> Sign Out
        </button>

        <!-- Hidden elements needed for initial load -->
        <div style="display: none">
            <span id="profileInitial">?</span>
            <input type="text" id="username" value="">
            <input type="email" id="emailDisplay" value="">
            <p id="linkedEmail"></p>
            <input type="checkbox" id="shareLocation">
            <input type="checkbox" id="notifications">
            <input type="checkbox" id="publicProfile">
            <div id="friendRequests"></div>
        </div>
    </div>
    
    <!-- Connection Status -->
    <div class="connection-status">
        <span class="status-dot"></span>
        <span id="connectionStatus">Connecting...</span>
    </div>
    
    <div class="container">
        <header>
            <div class="header-content">
                <h1>BoozeLens</h1>
                <p class="subtitle">Picture Perfect Party</p>
            </div>
            
            <div class="action-buttons">
                <button class="btn btn-primary" onclick="showModal('pair-device')">
                    <i class="fas fa-link"></i> Pair Device
                </button>
                <button class="btn" onclick="showModal('checkin')">
                    <i class="fas fa-location-dot"></i> Check In
                </button>
                <button class="btn" onclick="callUber()">
                    <i class="fas fa-taxi"></i> Call Uber
                </button>
                <button class="btn btn-danger" onclick="showModal('emergency')">
                    <i class="fas fa-exclamation-triangle"></i> Emergency
                </button>
            </div>
        </header>
        
        <div id="section-container"></div>
        
        
        
        
        
        
        
        
        
        
    </div>
    
    <!-- Modal -->
    <div class="modal" id="modal">
        <div class="modal-content">
            <div id="modalBody"></div>
        </div>
    </div>
    
    <!-- Mobile More Menu -->
    <div class="mobile-more-backdrop" id="mobileMoreBackdrop" onclick="toggleMobileMore()"></div>
    <div class="mobile-more-menu" id="mobileMoreMenu">
        <div class="mobile-more-header">
            <h3>More Options</h3>
            <button class="mobile-more-close" onclick="toggleMobileMore()">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="mobile-more-items">
            <div class="mobile-more-item" onclick="switchSection('photos'); toggleMobileMore();">
                <i class="fas fa-camera-retro"></i>
                <span>Photos</span>
            </div>
            <div class="mobile-more-item" onclick="switchSection('achievements'); toggleMobileMore();">
                <i class="fas fa-trophy"></i>
                <span>Achievements</span>
            </div>
            <div class="mobile-more-item" onclick="switchSection('drinks'); toggleMobileMore();">
                <i class="fas fa-beer"></i>
                <span>Drinks</span>
            </div>
            <div class="mobile-more-item" onclick="switchSection('emergency'); toggleMobileMore();">
                <i class="fas fa-ambulance"></i>
                <span>Emergency</span>
            </div>
            <div class="mobile-more-item" onclick="switchSection('settings'); toggleMobileMore();">
                <i class="fas fa-cog"></i>
                <span>Settings</span>
            </div>
        </div>
    </div>
    
    <!-- BoozeLens App JavaScript -->

<!-- Main App Module -->

</body>
</html>